(this["webpackJsonpneko-card-react-ts-project"]=this["webpackJsonpneko-card-react-ts-project"]||[]).push([[0],{10:function(e,t,n){e.exports={menu:"Menu_menu__2yOrF",menuActive:"Menu_menuActive__1fkJz",link:"Menu_link__wtBYG",activeLink:"Menu_activeLink__3jOIJ"}},12:function(e,t,n){e.exports={neon:"Restore_neon__2xnCX",restorePage:"Restore_restorePage__Yt06I",loginBlock:"Restore_loginBlock__KEPf9",restoreBlock:"Restore_restoreBlock__j8go8"}},14:function(e,t,n){e.exports={neon:"Login_neon__2oOc0",loginPage:"Login_loginPage__3QmJr",loginFormContainer:"Login_loginFormContainer__1OO4x",items:"Login_items__xfe4x",text1:"Login_text1__2MhTi",text:"Login_text__3qblI"}},24:function(e,t,n){e.exports={neon:"Button_neon__17sQT",button:"Button_button__2OrEq",loginButtonBody:"Button_loginButtonBody__3X43V",link:"Button_link__w9gha","btn-anim-1":"Button_btn-anim-1__2KaU3","btn-anim-2":"Button_btn-anim-2__29h2Y","btn-anim-3":"Button_btn-anim-3__2WLod","btn-anim-4":"Button_btn-anim-4__kwUi5"}},27:function(e,t,n){e.exports={neon:"Input_neon__2TJ1R",inputBody:"Input_inputBody__2u4Qd",error:"Input_error__hy98E",shake:"Input_shake__tmaUI"}},31:function(e,t,n){e.exports={neon:"Register_neon__3snfG",registerPage:"Register_registerPage__22eL8",registerBox:"Register_registerBox__byB-h"}},32:function(e,t,n){e.exports={neon:"Profile_neon__2N-I0",profilePage:"Profile_profilePage__1-AUr",profileContainer:"Profile_profileContainer__1bZij"}},45:function(e,t,n){e.exports={neon:"Checkbox_neon__1DTaF"}},46:function(e,t,n){e.exports={neon:"NotFound_neon__k5F0a",notFoundPage:"NotFound_notFoundPage__3y1lY"}},47:function(e,t,n){e.exports=n(77)},52:function(e,t,n){},75:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(22),l=n.n(o);n(52),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(8),i=n(17),s={},u=n(2),m=n.n(u),E=n(9),d=n(18),g=n(20),_=n.n(g),p=_.a.create({baseURL:"http://localhost:7542/2.0/"}),f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return p.post("/auth/login",{email:e,password:t,rememberMe:n})},b={_id:"",email:"",name:"",rememberMe:!1,error:"",verified:!1,publicCardPacksCount:0,isAdmin:!1,created:"",updated:""},h=function(e){return{type:"login/SET_USER",user:e}},v=function(e){return{type:"login/SET_ERROR",error:e}},k={},N={responseLoading:!1,error:null},O=function(e){return{type:"RESTORE/SET_ERROR",error:e}},w=function(e){return{type:"RESTORE/SET_RESPONSE_LOADING",value:e}},y={restore:function(e){var t=e.email;return _.a.post("https://neko-back.herokuapp.com/2.0/auth/forgot",{email:t,message:"<div style=\"background-color: lime; padding: 15px\">\n                          password recovery link: \n                          <a href='http://localhost:3000/neko-card-react-ts-project#/changePassword/$token$'>link</a>\n                      </div> "})},changePassword:function(e){var t=window.location.href.split("/")[5],n=e.password;return _.a.post("https://neko-back.herokuapp.com/2.0/auth/set-new-password",{password:n,resetPasswordToken:t})}},R={},x=n(44),P=Object(i.c)({profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return e},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET_USER":return Object(d.a)({},t.user);case"login/SET_ERROR":return Object(d.a)({},e,{error:t.error});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;return e},restore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESTORE/SET_RESPONSE_LOADING":return Object(d.a)({},e,{isLoading:t.value});case"RESTORE/SET_ERROR":return Object(d.a)({},e,{error:t.error});default:return e}},changePassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return e}}),B=Object(i.d)(P,Object(i.a)(x.a)),S=B;window.store=B;n(75);var j=n(11),C=n(1),L=n(14),T=n.n(L),F=n(3),I=n(24),M=n.n(I),A=function(e){return r.a.createElement("div",{className:M.a.loginButtonBody},r.a.createElement("span",{className:M.a.link},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("button",{onClick:e.onClick,disabled:e.disable,className:M.a.button},e.title)))},U=n(27),D=n.n(U),G=function(e){return r.a.createElement("div",{className:e.error?D.a.error:D.a.inputBody},r.a.createElement("input",{value:e.value,type:e.type,onChange:e.onChange}),e.value?"":r.a.createElement("label",null,e.label))},J=n(45),V=n.n(J),Y=function(e){return r.a.createElement("div",null,r.a.createElement("input",{checked:e.checked,onChange:e.onChange,className:V.a.checkbox,type:"checkbox"}))},Q=function(e){var t=Object(c.b)(),n=Object(c.c)((function(e){return e.login.error})),o=Object(a.useState)(""),l=Object(F.a)(o,2),i=l[0],s=l[1],u=Object(a.useState)(""),d=Object(F.a)(u,2),g=d[0],_=d[1],p=Object(a.useState)(!1),b=Object(F.a)(p,2),k=b[0],N=b[1];return r.a.createElement("div",{className:e.className},r.a.createElement(G,{label:"Login",value:i,onChange:function(e){s(e.currentTarget.value)},error:n}),r.a.createElement(G,{type:"password",label:"Password",value:g,onChange:function(e){_(e.currentTarget.value)},error:n}),r.a.createElement(Y,{checked:k,onChange:function(e){N(e.currentTarget.checked)}}),r.a.createElement(A,{title:"login",onClick:function(){var e,n,a;t((e=i,n=g,a=k,function(){var t=Object(E.a)(m.a.mark((function t(r){var o,l;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f(e,n,a);case 3:o=t.sent,r(h(o.data)),console.log(o),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),l=t.t0.response?t.t0.response.data.error:t.t0.message+", more details in the console",console.log("Error: ",l),r(v(l));case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))}}))},W=function(e){return r.a.createElement("div",{className:T.a.loginPage},r.a.createElement("div",{className:T.a.loginFormContainer},r.a.createElement("h1",null," LOGIN "),r.a.createElement(Q,{className:T.a.loginFormContainer}),r.a.createElement("div",{className:T.a.items},r.a.createElement(j.b,{className:T.a.text1,to:"/restore"},"Forgot your password?"),r.a.createElement(j.b,{className:T.a.text,to:"/register"},"Register"))))},$=n(12),q=n.n($),K=n(13),X=function(e){var t=Object(c.b)(),n=Object(K.b)(),a=n.control,o=n.handleSubmit,l=Object(c.c)((function(e){return e.restore}));return l.responseLoading?r.a.createElement("h1",null,"Loading..."):r.a.createElement("div",{className:q.a.restorePage},r.a.createElement("div",null,r.a.createElement(Q,{className:q.a.loginBlock})),r.a.createElement("div",{className:q.a.restoreBlock},l.error?r.a.createElement("h2",{className:q.a.errorMessage},l.error):r.a.createElement("h1",null,"Forgot you password?"),r.a.createElement("form",{onSubmit:o((function(e){t(function(e){return function(t){t(w(!0)),y.restore(e).then((function(e){200===e.status&&(t(w(!1)),t(O("\u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 \u043d\u0430 Email")))})).catch((function(e){t(w(!1)),t(O(e.response.data.error))})),t(w(!1))}}(e))}))},r.a.createElement(K.a,{as:r.a.createElement(G,{error:l.error,label:"Enter your login"}),name:"email",control:a,defaultValue:""}),r.a.createElement(A,{disable:l.responseLoading,title:"SEND"}))))},z=n(31),Z=n.n(z),H=function(e){return r.a.createElement("div",{className:Z.a.registerPage},r.a.createElement("div",{className:Z.a.registerBox},r.a.createElement("h1",null,"REGISTER"),r.a.createElement(G,{label:"Enter your login"}),r.a.createElement(G,{label:"Enter your login"}),r.a.createElement(G,{label:"Enter your login"}),r.a.createElement(G,{label:"Enter your login"}),r.a.createElement(G,{label:"Enter your login"}),r.a.createElement(G,{label:"Enter your login"}),r.a.createElement(G,{label:"Enter your login"}),r.a.createElement(G,{label:"Enter your login"}),r.a.createElement(G,{label:"Enter your login"}),r.a.createElement(A,{title:"SEND"})))},ee=n(32),te=n.n(ee),ne=function(e){return r.a.createElement("div",{className:te.a.profilePage},r.a.createElement("div",{className:te.a.profileContainer},r.a.createElement("h1",null,"profile")))},ae=n(46),re=n.n(ae),oe=function(e){return r.a.createElement("div",{className:re.a.notFoundPage},r.a.createElement("h1",null,"404"),r.a.createElement("div",null,r.a.createElement("h1",null,"not found"),r.a.createElement("div",null,"\u0442\u0435\u0441\u0442")))},le=n(10),ce=n.n(le),ie=function(){var e=Object(a.useState)(!1),t=Object(F.a)(e,2),n=t[0],o=t[1];return r.a.createElement("div",{className:ce.a.menu},n?r.a.createElement("button",{onClick:function(){o(!1)}},"menu"):r.a.createElement("div",{className:ce.a.menuActive},r.a.createElement("button",{onClick:function(){o(!0)}},"menu"),r.a.createElement(j.b,{to:"/restore",className:ce.a.link,activeClassName:ce.a.activeLink},"Forgot password"),r.a.createElement(j.b,{to:"/register",className:ce.a.link,activeClassName:ce.a.activeLink},"Register"),r.a.createElement(j.b,{to:"/login",className:ce.a.link,activeClassName:ce.a.activeLink},"Login"),r.a.createElement(j.b,{to:"/profile",className:ce.a.link,activeClassName:ce.a.activeLink},"Profile")))},se=function(e){var t=Object(c.c)((function(e){return e.restore})),n=Object(c.b)(),a=Object(K.b)(),o=a.control,l=a.handleSubmit;return r.a.createElement("div",{className:q.a.restorePage},r.a.createElement("div",null,r.a.createElement(Q,{className:q.a.loginBlock})),r.a.createElement("div",{className:q.a.restoreBlock},t.error?r.a.createElement("h2",{className:q.a.errorMessage},t.error||"Error"):r.a.createElement("h1",null,"Please, set your new Password"),r.a.createElement("form",{onSubmit:l((function(e){var t;n((t=e,function(e){e(w(!0)),y.changePassword(t).then((function(t){200===t.status&&e(w(!1)),console.log(t)})).catch((function(t){e(w(!1)),e(O(t.response.data.error))}))}))}))},r.a.createElement(K.a,{as:r.a.createElement(G,{error:t.error,label:"password"}),name:"password",control:o,defaultValue:""}),r.a.createElement(K.a,{as:r.a.createElement(G,{error:t.error,label:"repeat password"}),name:"repeat_password",control:o,defaultValue:""}),r.a.createElement(A,{disable:t.responseLoading,title:"SEND"}))))},ue=function(){return r.a.createElement(j.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(ie,null),r.a.createElement(C.c,null,r.a.createElement(C.a,{path:"/restore",render:function(){return r.a.createElement(X,null)}}),r.a.createElement(C.a,{exact:!0,path:"/register",render:function(){return r.a.createElement(H,null)}}),r.a.createElement(C.a,{exact:!0,path:["/login","/"],render:function(){return r.a.createElement(W,null)}}),r.a.createElement(C.a,{exact:!0,path:"/profile",render:function(){return r.a.createElement(ne,null)}}),r.a.createElement(C.a,{path:"/changePassword",render:function(){return r.a.createElement(se,null)}}),r.a.createElement(C.a,{render:function(){return r.a.createElement(oe,null)}}))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,{store:S},r.a.createElement(ue,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.6429835a.chunk.js.map