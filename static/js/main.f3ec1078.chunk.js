(this["webpackJsonpneko-card-react-ts-project"]=this["webpackJsonpneko-card-react-ts-project"]||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(35),c=a.n(o);a(69),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(4),s=a(29),i=a(2),u=a(18),d=a.n(u),m=(d.a.create({withCredentials:!0,baseURL:"https://neko-back.herokuapp.com/2.0"}),a(3)),p=a.n(m),f=a(9),E=d.a.create({withCredentials:!0,baseURL:"https://neko-back.herokuapp.com/2.0"}),g=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return E.post("auth/login",{email:e,password:t,rememberMe:a})},b=function(){return E.delete("auth/me")},_=function(){return E.post("auth/me")},v={isFetching:!1},h=function(e){return{type:"login/SET_FETCHING",isFetch:e}},k={_id:"",email:"",name:"",rememberMe:!1,error:null,verified:!1,publicCardPacksCount:0,isAdmin:!1,created:"",updated:"",authMe:!1},w=function(e){return{type:"login/SET_USER",user:e}},O=function(e){return{type:"login/SET_ERROR",error:e}},C=function(e){return{type:"login/SET_ERROR_IN",errorIn:e}},S=function(e){return{type:"login/AUTH_ME",authMe:e}},j=d.a.create({withCredentials:!0,baseURL:"http://localhost:7542/2.0/"}),P=function(e){return j.post("auth/register/",e)},R={data:{email:"",id:""},errorMessage:""},y=function(e){return{type:"REGISTER/SET-ERROR-MESSAGE-TYPE",message:e}},N=d.a.create({withCredentials:!0,baseURL:"https://neko-back.herokuapp.com/2.0"}),T=function(e){var t=e.email;return N.post("auth/forgot",{email:t,message:"<div style=\"background-color: lime; padding: 15px\">\n                          password recovery link: \n                          <a href='http://localhost:3000/neko-card-react-ts-project#/changePassword/$token$'>link</a>\n                      </div> "})},x=function(e){var t=window.location.href.split("/")[5],a=e.confirm_password;return N.post("auth/set-new-password",{password:a,resetPasswordToken:t})},F={error:null,success:!1,disableButton:!1},A=function(e){return{type:"RESTORE/SET_ERROR",error:e}},M=function(e){return{type:"RESTORE/SET_SUCCESS_REQUEST",success:e}},B={},I=a(58),L=d.a.create({withCredentials:!0,baseURL:"https://neko-back.herokuapp.com/2.0"}),U=function(e){return L.get("/cards/pack?packName=".concat(e,"&pageCount=100&page=1&sortPacks=0updated"))},W=function(e){return L.post("/cards/pack",{cardsPack:e})},K=function(e){return L.get("/cards/pack?user_id=".concat(e,"&pageCount=100"))},G=function(e){return L.delete("/cards/pack?id=".concat(e))},V=function(e){return L.put("/cards/pack",{cardsPack:e})},D={packs:[],packUser_id:"",searchName:null,page:1,pageCount:10,cardsPacksTotalCount:1e3},q=function(e){return{type:"PACKS/ADD_PACK",data:e}},Y=function(e){return function(t){t(h(!0)),U(e).then((function(e){t({type:"PACKS/GET_PACKS",packs:e.data.cardPacks}),t(h(!1))})).catch((function(e){console.log(e.response.data),t(h(!1))}))}},H=Object(s.c)({profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROFILE/SET-PROFILE-USER-DATA":return Object(i.a)(Object(i.a)({},e),t.data);default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET_USER":return Object(i.a)(Object(i.a)({},e),t.user);case"login/SET_ERROR":return Object(i.a)(Object(i.a)({},e),{},{error:t.error});case"login/SET_ERROR_IN":return Object(i.a)(Object(i.a)({},e),{},{errorIn:t.errorIn});case"login/AUTH_ME":return Object(i.a)(Object(i.a)({},e),{},{authMe:t.authMe});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER/SET-REGISTER-DATA":return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.data),{},{data:t.data});case"REGISTER/SET-ERROR-MESSAGE-TYPE":return Object(i.a)(Object(i.a)({},e),{},{errorMessage:t.message});default:return e}},restore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESTORE/SET_ERROR":return Object(i.a)(Object(i.a)({},e),{},{error:t.error});case"RESTORE/SET_SUCCESS_REQUEST":return Object(i.a)(Object(i.a)({},e),{},{success:t.success});default:return e}},changePassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;return e},isFetching:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET_FETCHING":return Object(i.a)(Object(i.a)({},e),{},{isFetching:t.isFetch});default:return e}},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PACKS/GET_PACKS":return Object(i.a)(Object(i.a)({},e),{},{packs:t.packs});case"/PACKS/SEARCH_PACKS":return Object(i.a)({},e);case"/PACKS/SORT_PACKS_NAME_UP":return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.packs),{},{packs:e.packs.sort((function(e,t){var a=e.name.toLowerCase(),n=t.name.toLowerCase();return a<n?-1:a>n?1:0}))});case"/PACKS/SORT_PACKS_NAME_DOWN":return Object(i.a)(Object(i.a)(Object(i.a)({},e),e.packs),{},{packs:e.packs.sort((function(e,t){var a=e.name.toLowerCase(),n=t.name.toLowerCase();return a>n?-1:a<n?1:0}))});case"PACKS/ADD_PACK":return Object(i.a)(Object(i.a)({},e),{},{packs:t.data},e.packs);default:return e}}}),Q=Object(s.d)(H,Object(s.a)(I.a)),J=Q;window.store=Q;a(91);var z=a(20),Z=a(6),$=a(19),X=a.n($),ee=a(38),te=a.n(ee),ae=function(e){return r.a.createElement("div",{className:te.a.loginButtonBody},r.a.createElement("span",{className:te.a.link},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("button",{onClick:e.onClick,disabled:e.disable,className:te.a.button},e.title)))},ne=a(42),re=a.n(ne),oe=function(e){return r.a.createElement("div",{className:e.error?re.a.error:re.a.inputBody},r.a.createElement("input",{value:e.value,type:e.type,onChange:e.onChange,ref:e.register,name:e.name,disabled:e.disable}),e.value?"":r.a.createElement("label",null,e.label))},ce=a(59),le=a.n(ce),se=function(e){return r.a.createElement("div",null,r.a.createElement("input",{checked:e.checked,onChange:e.onChange,className:le.a.checkbox,type:"checkbox",name:e.name,ref:e.register,disabled:e.disable}))},ie=a(5),ue=a(11),de=a(23),me=ue.a().shape({login:ue.b().required().email(),password:ue.b().required().min(7)}),pe=r.a.memo((function(e){var t,a,o=Object(ie.useForm)({resolver:Object(de.yupResolver)(me)}),c=o.register,s=o.control,i=o.handleSubmit,u=o.errors,d=o.reset,m=Object(l.b)(),E=Object(l.c)((function(e){return e.login.authMe})),b=Object(l.c)((function(e){return e.login.error})),_=Object(l.c)((function(e){return e.login.errorIn})),v=Object(n.useCallback)((function(e){var t,a,n;m((t=e.login,a=e.password,n=e.rememberMe,function(){var e=Object(f.a)(p.a.mark((function e(r){var o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(h(!0)),e.next=4,g(t,a,n);case 4:o=e.sent,r(S(!0)),r(w(o.data)),console.log("Response(login): ",o),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0.response?(console.log("ERROR(login): ",e.t0.response.data.error),e.t0.response.data.password?r(C("password")):e.t0.response.data.email&&r(C("email")),r(O(e.t0.response.data.error))):console.log("ERROR: ",e.t0.message+", more details in the console");case 13:r(h(!1));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),E&&d()}),[m,E,d]);return Object(n.useEffect)((function(){m(O(null))}),[m]),E?r.a.createElement(Z.a,{to:"/profile"}):r.a.createElement("div",{className:e.className},r.a.createElement("form",{onSubmit:i(v)},r.a.createElement(ie.Controller,{as:r.a.createElement(oe,{onChange:function(){var e;return null===(null===(e=u.login)||void 0===e?void 0:e.message)},disable:e.isFetching,error:(null===(t=u.login)||void 0===t?void 0:t.message)||b,label:"login"}),name:"login",control:s,defaultValue:""}),r.a.createElement("div",{className:X.a.errorMessageColor},u.login&&r.a.createElement("span",null,u.login.message),"email"===_&&r.a.createElement("span",null,b)),r.a.createElement(ie.Controller,{as:r.a.createElement(oe,{onChange:function(){var e;return null===(null===(e=u.login)||void 0===e?void 0:e.message)},disable:e.isFetching,type:"password",error:(null===(a=u.password)||void 0===a?void 0:a.message)||b,label:"password"}),name:"password",control:s,defaultValue:""}),r.a.createElement("div",{className:X.a.errorMessageColor},u.password&&r.a.createElement("span",null,u.password.message),"password"===_&&r.a.createElement("span",null,b)),r.a.createElement(se,{name:"rememberMe",register:c,disable:e.isFetching}),r.a.createElement(ae,{title:"login",disable:e.isFetching})))})),fe=function(e){return r.a.createElement("div",{className:X.a.loginPage},r.a.createElement("div",{className:X.a.loginFormContainer},r.a.createElement("h1",null," LOGIN "),r.a.createElement(pe,{isFetching:e.isFetching,className:X.a.loginFormContainer}),r.a.createElement("div",{className:X.a.items},r.a.createElement(z.b,{className:X.a.text1,to:"/restore"},"Forgot your password?"),r.a.createElement(z.b,{className:X.a.text,to:"/register"},"Register"))))},Ee=a(24),ge=a.n(Ee),be=ue.a().shape({email:ue.b().required().email()}),_e=r.a.memo((function(e){var t,a,o=Object(l.b)(),c=Object(l.c)((function(e){return e.restore})),s=Object(ie.useForm)({resolver:Object(de.yupResolver)(be)}),i=s.control,u=s.handleSubmit,d=s.errors;return Object(n.useEffect)((function(){o(A(null))}),[o]),r.a.createElement("div",{className:ge.a.restorePage},r.a.createElement("div",{className:ge.a.restoreBlock},r.a.createElement("h1",null,"Forgot you password?"),c.success?r.a.createElement("h2",null,"Link on email"):r.a.createElement("form",{onSubmit:u((function(e){o(function(e){return function(t){t(h(!0)),t(M(!1)),T(e).then((function(e){200===e.status&&(t(h(!1)),t(A(null)),t(M(!0)))})).catch((function(e){console.log(e.response),t(h(!1)),t(A(e.response.data.error))}))}}(e))}))},r.a.createElement(ie.Controller,{as:r.a.createElement(oe,{onChange:function(){var e;return null===(null===(e=d.email)||void 0===e?void 0:e.message)},error:(null===(t=d.email)||void 0===t?void 0:t.message)||c.error,label:"Enter your login"}),name:"email",control:i,defaultValue:""}),r.a.createElement("div",{className:ge.a.errorMessageColor},(null===(a=d.email)||void 0===a?void 0:a.message)||c.error),r.a.createElement(ae,{disable:e.isFetching,title:"SEND"}))))})),ve=a(10),he=a(17),ke=a.n(he),we=a(45),Oe=a.n(we),Ce=function(e){var t=Object(l.b)(),a=Object(ie.useForm)(),n=a.handleSubmit,o=a.control,c=a.reset;return r.a.createElement("div",{className:Oe.a.modalWindowContainer},r.a.createElement("div",{className:Oe.a.modalWindow},r.a.createElement("h3",null,"Add card"),r.a.createElement("form",{onSubmit:n((function(a){var n,r;t((n=a.packName,r=a.packType,function(){var e=Object(f.a)(p.a.mark((function e(t){var a,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W({name:n,type:r});case 2:return a=e.sent,e.next=5,K(a.data.newCardsPack.user_id);case 5:o=e.sent,t(q(o.data.cardPacks));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),c(),e.setShowModalWindow(!1)}))},r.a.createElement(ie.Controller,{as:r.a.createElement(oe,{label:"Pack Name"}),name:"packName",control:o,defaultValue:""}),r.a.createElement(ie.Controller,{as:r.a.createElement(oe,{label:"Pack Type"}),name:"packType",control:o,defaultValue:""}),r.a.createElement("button",{type:"submit"},"SEND")),r.a.createElement("button",{onClick:function(){return e.setShowModalWindow(!1)}},"CLOSE")))},Se=a(30),je=a.n(Se),Pe=r.a.memo((function(){for(var e=Object(l.c)((function(e){return e.packs})),t=(Object(l.c)((function(e){return e.isFetching})),Object(l.b)(),Object(n.useState)("")),a=Object(ve.a)(t,2),o=a[0],c=a[1],s=Math.ceil(e.cardsPacksTotalCount/e.pageCount),i=Object(n.useState)(e.page=1),u=Object(ve.a)(i,2),d=u[0],m=u[1],p=[],f=d;f<=d+10;f++)p.push(f);var E=function(){var e=+o;+o+10>s&&(e=s-10),m(e),c("")};return r.a.createElement("div",{className:je.a.sliderWrapper},r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){m(1)}},"<<"),r.a.createElement("button",{onClick:function(){var e=d-10;e<=1&&(e=1),m(e)}},"<")),r.a.createElement("div",null,p.map((function(t){return r.a.createElement("span",{className:e.page===t?je.a.active:je.a.hover,onClick:function(){},key:t},t)}))),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){var t=d+10;t>=s&&(t=t<e.pageCount?1:s-10),m(t)}},">"),r.a.createElement("button",{onClick:function(){m(s-10)}},">>")),r.a.createElement("div",{className:je.a.inputWrapper},r.a.createElement("input",{type:"number",placeholder:"\u2116",onChange:function(e){+e.currentTarget.value<1||+e.currentTarget.value>s?c("\u043d\u0435\u0442 \u0442\u0430\u043a\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b"):c(+e.target.value)},value:null==o?"":o,className:je.a.input,onKeyPress:function(e){13===e.keyCode&&E()}}),r.a.createElement("button",{onClick:E},"Go")))})),Re=function(e){return r.a.createElement("div",{className:ke.a.searchField},r.a.createElement(oe,{onChange:e.onChangeSearchInput,label:"Search",type:"text",value:e.searchValue}),r.a.createElement(ae,{onClick:e.onClickSearch,title:"Search"}))},ye=function(e){var t=Object(n.useState)(!0),a=Object(ve.a)(t,2),o=a[0],c=a[1],s=Object(l.b)(),u=Object(ie.useForm)(),d=u.register,m=u.handleSubmit;u.reset;return r.a.createElement("div",{className:ke.a.cardField},o?r.a.createElement("div",null,r.a.createElement("span",null,e.name)):r.a.createElement("div",null,r.a.createElement("form",{onSubmit:m((function(t){var a,n;s((a=e._id,n={name:t.packName,type:t.packType},function(){var e=Object(f.a)(p.a.mark((function e(t){var r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(Object(i.a)({_id:a},n));case 2:return r=e.sent,e.next=5,K(r.data.updatedCardsPack.user_id);case 5:o=e.sent,t(q(o.data.cardPacks));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),c(!0)}))},r.a.createElement("input",{name:"packName",ref:d({maxLength:20}),defaultValue:e.name}),r.a.createElement("input",{name:"packType",ref:d({maxLength:20}),defaultValue:e.type}),r.a.createElement("button",{type:"submit"},"save"))),r.a.createElement("div",null,e.type),r.a.createElement("div",null,e.updated),r.a.createElement("div",null,e.rating),r.a.createElement("span",null,e.user_name),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){var t;s((t=e._id,function(){var e=Object(f.a)(p.a.mark((function e(a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t);case 2:return n=e.sent,e.next=5,K(n.data.deletedCardsPack.user_id);case 5:r=e.sent,a(q(r.data.cardPacks));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}},"delete"),r.a.createElement("button",{onClick:function(){o&&c(!1),o||c(!0)}},"edit")))},Ne=function(e){var t=Object(l.c)((function(e){return e.login.authMe})),a=Object(l.c)((function(e){return e.login})),o=Object(l.c)((function(e){return e.packs.packs})),c=Object(l.c)((function(e){return e.login._id})),s=Object(l.b)(),i=Object(n.useState)(!1),u=Object(ve.a)(i,2),d=u[0],m=u[1],E=Object(n.useState)(""),g=Object(ve.a)(E,2),v=g[0],k=g[1];Object(n.useEffect)((function(){!t&&s(function(){var e=Object(f.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:a=e.sent,t(S(!0)),t(w(a.data)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),n=e.t0.response?e.t0.response.data.error:e.t0.message+", more details in the console",console.log("Authorization: ",n);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[s,t]),Object(n.useEffect)((function(){s(Y(""))}),[s]);return t?r.a.createElement("div",{className:ke.a.profilePage},d?r.a.createElement(Ce,{setShowModalWindow:m}):null,r.a.createElement("div",{className:ke.a.profilePage},r.a.createElement("div",{className:ke.a.profileContainer},r.a.createElement("div",{className:ke.a.titleProfile},"Profile"),r.a.createElement("div",null,r.a.createElement("div",null,a.avatar),r.a.createElement("div",null,a.name)),r.a.createElement(ae,{onClick:function(){s(function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(h(!0)),e.prev=1,e.next=4,b();case 4:t(S(!1)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),a=e.t0.response?e.t0.response.data.error:e.t0.message+", more details in the console",console.log("Log out error: ",a);case 11:t(h(!1));case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}())},title:"LogOut"})),r.a.createElement("div",{className:ke.a.profileContent},r.a.createElement(Re,{onChangeSearchInput:function(e){k(e.currentTarget.value)},onClickSearch:function(){s(Y(v))},searchValue:v}),r.a.createElement("div",{className:ke.a.packsContainer},r.a.createElement("div",null,"Name",r.a.createElement("button",{onClick:function(){return s((function(e){e(h(!0)),U("").then((function(t){e({type:"/PACKS/SORT_PACKS_NAME_UP"}),e(h(!1))})).catch((function(t){console.log(t.response.data),e(h(!1))}))}))}},"up"),r.a.createElement("button",{onClick:function(){return s((function(e){e(h(!0)),U("").then((function(t){e({type:"/PACKS/SORT_PACKS_NAME_DOWN"}),e(h(!1))})).catch((function(t){console.log(t.response.data),e(h(!1))}))}))}},"down")),r.a.createElement("div",null,"type"),r.a.createElement("div",null,"Update",r.a.createElement("button",null,"up"),r.a.createElement("button",null,"down")),r.a.createElement("div",null,"Rating"),r.a.createElement("div",null,"email/user_name"),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){m(!0)}}," Add Pack"),r.a.createElement("button",{onClick:function(){s(function(e){return function(){var t=Object(f.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K(e);case 2:n=t.sent,a(q(n.data.cardPacks));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(c))}}," My packs"))),r.a.createElement("div",null,o.map((function(e){return r.a.createElement(ye,Object.assign({key:e._id},e))}))),r.a.createElement(Pe,null)))):r.a.createElement(Z.a,{to:"/login"})},Te=a(63),xe=a.n(Te),Fe=function(e){return r.a.createElement("div",{className:xe.a.notFoundPage},r.a.createElement("h1",null,"404"),r.a.createElement("div",null,r.a.createElement("h1",null,"not found"),r.a.createElement("div",null,"\u0442\u0435\u0441\u0442")))},Ae=ue.a().shape({password:ue.b().required().min(7)}),Me=r.a.memo((function(e){var t,a,o=Object(l.c)((function(e){return e.restore})),c=Object(l.b)(),s=Object(ie.useForm)({resolver:Object(de.yupResolver)(Ae)}),i=s.control,u=s.handleSubmit,d=s.errors,m=s.reset,p=s.setError;return Object(n.useEffect)((function(){c(A(null))}),[c]),o.success?r.a.createElement(Z.a,{to:"/login"}):r.a.createElement("div",{className:ge.a.restorePage},r.a.createElement("div",{className:ge.a.restoreBlock},r.a.createElement("h1",null,"Please, set your new Password"),r.a.createElement("form",{onSubmit:u((function(e){var t;e.password===e.confirm_password?(c((t=e,function(e){e(h(!0)),e(M(!1)),x(t).then((function(t){200===t.status&&(e(h(!1)),A(null),e(M(!0)))})).catch((function(t){e(h(!1)),e(A(t.response.data.error))}))})),m()):(p("password",{message:"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"}),p("confirm_password",{message:"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"}))}))},r.a.createElement(ie.Controller,{as:r.a.createElement(oe,{error:o.error,type:"password",label:"password"}),name:"password",control:i,defaultValue:""}),r.a.createElement(ie.Controller,{as:r.a.createElement(oe,{error:(null===(t=d.password)||void 0===t?void 0:t.message)||o.error,type:"password",label:"repeat password"}),name:"confirm_password",control:i,defaultValue:""}),r.a.createElement("div",{className:ge.a.errorMessageColor},(null===(a=d.password)||void 0===a?void 0:a.message)||o.error),r.a.createElement(ae,{disable:e.isFetching,title:"SEND"}))))})),Be=a(46),Ie=a.n(Be),Le=function(e){return r.a.createElement("div",{className:Ie.a.cssload_container},r.a.createElement("div",{className:Ie.a.cssload_speeding_wheel}))},Ue=a(31),We=a.n(Ue),Ke=ue.a().shape({password:ue.b().required().min(7),email:ue.b().required().email(),confirm_password:ue.b().required().min(7)}),Ge=r.a.memo((function(e){var t,a,o,c,s,i,u=Object(l.b)(),d=Object(l.c)((function(e){return e.register})),m=Object(ie.useForm)({resolver:Object(de.yupResolver)(Ke)}),p=m.handleSubmit,f=m.errors,E=m.reset,g=m.setError,b=m.control;Object(n.useEffect)((function(){u(y(""))}),[u]);return r.a.createElement(r.a.Fragment,null,d.data.email.length>0&&r.a.createElement(Z.a,{to:"/login"}),r.a.createElement("div",{className:We.a.registerPage,onBlur:function(){u(y(""))}},r.a.createElement("div",{className:We.a.registerBox},r.a.createElement("h1",null,"REGISTER"),r.a.createElement("form",{onSubmit:p((function(e){if(e.confirm_password===e.password){var t={email:e.email,password:e.password};u(function(e){return function(t){t(h(!0)),P(e).then((function(e){e.data.error?t(y(e.data.error)):t(function(e){return{type:"REGISTER/SET-REGISTER-DATA",data:e}}(e.data.addedUser)),t(h(!1))})).catch((function(e){t(y(e.response.data.error)),t(h(!1))}))}}(t)),E()}else g("password",{message:"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"}),g("confirm_password",{message:"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"})}))},r.a.createElement(ie.Controller,{as:r.a.createElement(oe,{onChange:function(){var e;return null===(null===(e=f.email)||void 0===e?void 0:e.message)},error:(null===(t=f.email)||void 0===t?void 0:t.message)||d.errorMessage,type:"text",label:"Enter your login"}),name:"email",control:b,defaultValue:""}),r.a.createElement("div",{className:We.a.errorMessageColor},(null===(a=f.email)||void 0===a?void 0:a.message)||d.errorMessage),r.a.createElement(ie.Controller,{as:r.a.createElement(oe,{error:null===(o=f.password)||void 0===o?void 0:o.message,type:"password",label:"password"}),name:"password",control:b,defaultValue:""}),r.a.createElement("div",{className:We.a.errorMessageColor},null===(c=f.password)||void 0===c?void 0:c.message),r.a.createElement(ie.Controller,{as:r.a.createElement(oe,{onChange:function(){var e;return null===(null===(e=f.confirm_password)||void 0===e?void 0:e.message)},error:null===(s=f.confirm_password)||void 0===s?void 0:s.message,type:"password",label:"confirm password"}),name:"confirm_password",control:b,defaultValue:""}),r.a.createElement("div",{className:We.a.errorMessageColor},null===(i=f.confirm_password)||void 0===i?void 0:i.message),r.a.createElement(ae,{title:"SEND",disable:e.isFetching})))))})),Ve=function(){var e=Object(l.c)((function(e){return e.isFetching.isFetching}));return r.a.createElement(z.a,null,r.a.createElement("div",{className:"App"},e&&r.a.createElement(Le,null),r.a.createElement(Z.d,null,r.a.createElement(Z.b,{path:"/restore",render:function(){return r.a.createElement(_e,{isFetching:e})}}),r.a.createElement(Z.b,{exact:!0,path:"/register",render:function(){return r.a.createElement(Ge,{isFetching:e})}}),r.a.createElement(Z.b,{exact:!0,path:["/login","/"],render:function(){return r.a.createElement(fe,{isFetching:e})}}),r.a.createElement(Z.b,{exact:!0,path:"/profile",render:function(){return r.a.createElement(Ne,{isFetching:e})}}),r.a.createElement(Z.b,{path:"/changePassword",render:function(){return r.a.createElement(Me,{isFetching:e})}}),r.a.createElement(Z.b,{render:function(){return r.a.createElement(Fe,null)}}))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:J},r.a.createElement(Ve,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},17:function(e,t,a){e.exports={neon:"Profile_neon__2N-I0",profilePage:"Profile_profilePage__1-AUr",profileContainer:"Profile_profileContainer__1bZij",titleProfile:"Profile_titleProfile__3wYad",profileContent:"Profile_profileContent__19_nR",searchField:"Profile_searchField__2vZcx",packsContainer:"Profile_packsContainer__1VOh7",cardField:"Profile_cardField__2SM4_"}},19:function(e,t,a){e.exports={neon:"Login_neon__2oOc0",loginPage:"Login_loginPage__3QmJr",loginFormContainer:"Login_loginFormContainer__1OO4x",errorField:"Login_errorField__2fokP",items:"Login_items__xfe4x",text1:"Login_text1__2MhTi",text:"Login_text__3qblI"}},24:function(e,t,a){e.exports={neon:"Restore_neon__2xnCX",restorePage:"Restore_restorePage__Yt06I",restoreBlock:"Restore_restoreBlock__j8go8"}},30:function(e,t,a){e.exports={sliderWrapper:"Paginator_sliderWrapper__1_Okq",inputWrapper:"Paginator_inputWrapper__ocgdt"}},31:function(e,t,a){e.exports={neon:"Register_neon__3snfG",registerPage:"Register_registerPage__22eL8",registerBox:"Register_registerBox__byB-h"}},38:function(e,t,a){e.exports={neon:"Button_neon__17sQT",button:"Button_button__2OrEq",loginButtonBody:"Button_loginButtonBody__3X43V",link:"Button_link__w9gha","btn-anim-1":"Button_btn-anim-1__2KaU3","btn-anim-2":"Button_btn-anim-2__29h2Y","btn-anim-3":"Button_btn-anim-3__2WLod","btn-anim-4":"Button_btn-anim-4__kwUi5"}},42:function(e,t,a){e.exports={neon:"Input_neon__2TJ1R",inputBody:"Input_inputBody__2u4Qd",error:"Input_error__hy98E",shake:"Input_shake__tmaUI"}},45:function(e,t,a){e.exports={neon:"ModalWindow_neon__3Iuea",modalWindowContainer:"ModalWindow_modalWindowContainer__2mZtt",modalWindow:"ModalWindow_modalWindow__1vvkz"}},46:function(e,t,a){e.exports={neon:"Preloader_neon__3Tzof",cssload_container:"Preloader_cssload_container__c-n8B",cssload_speeding_wheel:"Preloader_cssload_speeding_wheel__1wLSN","cssload-spin":"Preloader_cssload-spin__2PCcK"}},59:function(e,t,a){e.exports={neon:"Checkbox_neon__1DTaF"}},63:function(e,t,a){e.exports={neon:"NotFound_neon__k5F0a",notFoundPage:"NotFound_notFoundPage__3y1lY"}},64:function(e,t,a){e.exports=a(101)},69:function(e,t,a){},91:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.f3ec1078.chunk.js.map